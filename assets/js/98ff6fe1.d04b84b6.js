"use strict";(self.webpackChunkdocusaurus_project=self.webpackChunkdocusaurus_project||[]).push([[258],{5532(e,n,l){l.r(n),l.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"Managing-Tables","title":"Managing Tables","description":"Learning Objectives","source":"@site/docs/Managing-Tables.md","sourceDirName":".","slug":"/Managing-Tables","permalink":"/backend-tools-handbook/Managing-Tables","draft":false,"unlisted":false,"editUrl":"https://github.com/pragnakalp/backend-tools-handbook/tree/main/docs/Managing-Tables.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"09 Data Types","permalink":"/backend-tools-handbook/Data-Types"},"next":{"title":"11 Constraints","permalink":"/backend-tools-handbook/Constraints"}}');var a=l(4848),t=l(8453);const i={},r="Managing Tables",c={},d=[{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"CREATE TABLE",id:"create-table",level:2},{value:"What is it?",id:"what-is-it",level:3},{value:"Why use it?",id:"why-use-it",level:3},{value:"Syntax",id:"syntax",level:3},{value:"IF NOT EXISTS",id:"if-not-exists",level:3},{value:"Column Constraints",id:"column-constraints",level:3},{value:"Table Constraints",id:"table-constraints",level:3},{value:"Example: Create a Table",id:"example-create-a-table",level:3},{value:"ALTER TABLE",id:"alter-table",level:2},{value:"What is it?",id:"what-is-it-1",level:3},{value:"Why use it?",id:"why-use-it-1",level:3},{value:"Common Operations",id:"common-operations",level:3},{value:"Add a Column",id:"add-a-column",level:4},{value:"Drop a Column",id:"drop-a-column",level:4},{value:"Change Data Type",id:"change-data-type",level:4},{value:"Rename a Column",id:"rename-a-column",level:4},{value:"Rename the Table",id:"rename-the-table",level:4},{value:"Set Default Value",id:"set-default-value",level:4},{value:"DROP TABLE",id:"drop-table",level:2},{value:"What is it?",id:"what-is-it-2",level:3},{value:"\u26a0\ufe0f Warning",id:"\ufe0f-warning",level:3},{value:"Syntax",id:"syntax-1",level:3},{value:"Drop Multiple Tables",id:"drop-multiple-tables",level:3},{value:"IF EXISTS",id:"if-exists",level:3},{value:"TRUNCATE TABLE",id:"truncate-table",level:2},{value:"What is it?",id:"what-is-it-3",level:3},{value:"Why use it?",id:"why-use-it-2",level:3},{value:"Syntax",id:"syntax-2",level:3},{value:"TRUNCATE vs. DELETE",id:"truncate-vs-delete",level:3},{value:"Example",id:"example",level:3},{value:"CREATE TABLE AS",id:"create-table-as",level:2},{value:"What is it?",id:"what-is-it-4",level:3},{value:"Why use it?",id:"why-use-it-3",level:3},{value:"Syntax",id:"syntax-3",level:3},{value:"Example",id:"example-1",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"1. Always Backup Before DROP or TRUNCATE",id:"1-always-backup-before-drop-or-truncate",level:3},{value:"2. Use IF EXISTS/IF NOT EXISTS",id:"2-use-if-existsif-not-exists",level:3},{value:"3. Test ALTER TABLE on Copies",id:"3-test-alter-table-on-copies",level:3},{value:"4. Use Transactions for Multiple Changes",id:"4-use-transactions-for-multiple-changes",level:3},{value:"Practice Exercises",id:"practice-exercises",level:2},{value:"Solutions",id:"solutions",level:2},{value:"Summary",id:"summary",level:2}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"managing-tables",children:"Managing Tables"})}),"\n",(0,a.jsx)(n.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,a.jsx)(n.p,{children:"By the end of this module, you will be able to:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Create new tables with CREATE TABLE"}),"\n",(0,a.jsx)(n.li,{children:"Modify table structure with ALTER TABLE"}),"\n",(0,a.jsx)(n.li,{children:"Remove tables with DROP TABLE"}),"\n",(0,a.jsx)(n.li,{children:"Quickly delete all data with TRUNCATE"}),"\n",(0,a.jsx)(n.li,{children:"Create tables from queries using SELECT INTO and CREATE TABLE AS"}),"\n",(0,a.jsx)(n.li,{children:"Understand when to use each command"}),"\n"]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"create-table",children:"CREATE TABLE"}),"\n",(0,a.jsx)(n.h3,{id:"what-is-it",children:"What is it?"}),"\n",(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)(n.code,{children:"CREATE TABLE"})," statement defines a new table and its structure within a database. It allows you to specify column names, data types, and rules (constraints) to ensure data integrity."]}),"\n",(0,a.jsx)(n.h3,{id:"why-use-it",children:"Why use it?"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Create new tables for your data"}),"\n",(0,a.jsx)(n.li,{children:"Define the structure of your database"}),"\n",(0,a.jsx)(n.li,{children:"Set up tables with proper data types and constraints"}),"\n",(0,a.jsx)(n.li,{children:"Organize data logically"}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"syntax",children:"Syntax"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sql",children:"CREATE TABLE [IF NOT EXISTS] table_name (\n    column1 datatype(length) column_constraint,\n    column2 datatype(length) column_constraint,\n    ...\n    table_constraints\n);\n"})}),"\n",(0,a.jsx)(n.h3,{id:"if-not-exists",children:"IF NOT EXISTS"}),"\n",(0,a.jsx)(n.p,{children:"An optional clause that prevents errors if the table already exists. Instead of failing, PostgreSQL will simply issue a notice."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sql",children:"CREATE TABLE IF NOT EXISTS my_table (...);\n"})}),"\n",(0,a.jsx)(n.h3,{id:"column-constraints",children:"Column Constraints"}),"\n",(0,a.jsx)(n.p,{children:"Rules applied to individual columns:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"NOT NULL"}),": Column cannot be empty"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"UNIQUE"}),": All values must be different"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"DEFAULT"}),": Sets a fallback value"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"PRIMARY KEY"}),": Uniquely identifies rows"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"FOREIGN KEY"}),": Links to another table"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"table-constraints",children:"Table Constraints"}),"\n",(0,a.jsx)(n.p,{children:"Rules that can involve multiple columns:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"PRIMARY KEY"}),": Composite primary key"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"FOREIGN KEY"}),": Multi-column foreign key"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"UNIQUE"}),": Multi-column unique constraint"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"CHECK"}),": Custom validation rules"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"example-create-a-table",children:"Example: Create a Table"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sql",children:"CREATE TABLE accounts (\n    user_id SERIAL PRIMARY KEY,\n    username VARCHAR(50) UNIQUE NOT NULL,\n    password VARCHAR(50) NOT NULL,\n    email VARCHAR(255) UNIQUE NOT NULL,\n    created_at TIMESTAMP NOT NULL,\n    last_login TIMESTAMP\n);\n"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"What this creates"}),":"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"user_id"}),": Auto-incrementing primary key"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"username"}),": Unique, required"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"password"}),": Required"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"email"}),": Unique, required"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"created_at"}),": Required timestamp"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"last_login"}),": Optional timestamp"]}),"\n"]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"alter-table",children:"ALTER TABLE"}),"\n",(0,a.jsx)(n.h3,{id:"what-is-it-1",children:"What is it?"}),"\n",(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)(n.code,{children:"ALTER TABLE"})," statement modifies the structure of an existing table without deleting and recreating it."]}),"\n",(0,a.jsx)(n.h3,{id:"why-use-it-1",children:"Why use it?"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Add or remove columns"}),"\n",(0,a.jsx)(n.li,{children:"Change data types"}),"\n",(0,a.jsx)(n.li,{children:"Rename columns or tables"}),"\n",(0,a.jsx)(n.li,{children:"Add or remove constraints"}),"\n",(0,a.jsx)(n.li,{children:"Modify table structure as requirements change"}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"common-operations",children:"Common Operations"}),"\n",(0,a.jsx)(n.h4,{id:"add-a-column",children:"Add a Column"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sql",children:"ALTER TABLE table_name \nADD COLUMN column_name datatype column_constraint;\n"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sql",children:"ALTER TABLE accounts \nADD COLUMN phone VARCHAR(15);\n"})}),"\n",(0,a.jsx)(n.h4,{id:"drop-a-column",children:"Drop a Column"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sql",children:"ALTER TABLE table_name \nDROP COLUMN column_name;\n"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sql",children:"ALTER TABLE accounts \nDROP COLUMN phone;\n"})}),"\n",(0,a.jsx)(n.h4,{id:"change-data-type",children:"Change Data Type"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sql",children:"ALTER TABLE table_name \nALTER COLUMN column_name TYPE new_datatype;\n"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sql",children:"ALTER TABLE accounts \nALTER COLUMN phone TYPE VARCHAR(20);\n"})}),"\n",(0,a.jsx)(n.h4,{id:"rename-a-column",children:"Rename a Column"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sql",children:"ALTER TABLE table_name \nRENAME COLUMN old_name TO new_name;\n"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sql",children:"ALTER TABLE accounts \nRENAME COLUMN phone TO phone_number;\n"})}),"\n",(0,a.jsx)(n.h4,{id:"rename-the-table",children:"Rename the Table"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sql",children:"ALTER TABLE table_name \nRENAME TO new_table_name;\n"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sql",children:"ALTER TABLE accounts \nRENAME TO users;\n"})}),"\n",(0,a.jsx)(n.h4,{id:"set-default-value",children:"Set Default Value"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sql",children:"ALTER TABLE table_name \nALTER COLUMN column_name SET DEFAULT value;\n"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sql",children:"ALTER TABLE accounts \nALTER COLUMN created_at SET DEFAULT CURRENT_TIMESTAMP;\n"})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"drop-table",children:"DROP TABLE"}),"\n",(0,a.jsx)(n.h3,{id:"what-is-it-2",children:"What is it?"}),"\n",(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)(n.code,{children:"DROP TABLE"})," statement permanently removes a table and all its data from the database."]}),"\n",(0,a.jsx)(n.h3,{id:"\ufe0f-warning",children:"\u26a0\ufe0f Warning"}),"\n",(0,a.jsxs)(n.p,{children:["This operation is ",(0,a.jsx)(n.strong,{children:"irreversible"}),"! All data in the table will be permanently deleted."]}),"\n",(0,a.jsx)(n.h3,{id:"syntax-1",children:"Syntax"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sql",children:"DROP TABLE table_name;\n"})}),"\n",(0,a.jsx)(n.h3,{id:"drop-multiple-tables",children:"Drop Multiple Tables"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sql",children:"DROP TABLE table1, table2, table3;\n"})}),"\n",(0,a.jsx)(n.h3,{id:"if-exists",children:"IF EXISTS"}),"\n",(0,a.jsx)(n.p,{children:"Prevents errors if the table doesn't exist:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sql",children:"DROP TABLE IF EXISTS table_name;\n"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Tip"}),": Always use ",(0,a.jsx)(n.code,{children:"IF EXISTS"})," to avoid errors if the table was already deleted."]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"truncate-table",children:"TRUNCATE TABLE"}),"\n",(0,a.jsx)(n.h3,{id:"what-is-it-3",children:"What is it?"}),"\n",(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)(n.code,{children:"TRUNCATE TABLE"})," statement quickly deletes all data from an existing table, but keeps the table structure intact."]}),"\n",(0,a.jsx)(n.h3,{id:"why-use-it-2",children:"Why use it?"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Much faster than ",(0,a.jsx)(n.code,{children:"DELETE"})," for removing all rows"]}),"\n",(0,a.jsx)(n.li,{children:"Resets auto-increment counters"}),"\n",(0,a.jsx)(n.li,{children:"Keeps table structure (columns, constraints, etc.)"}),"\n",(0,a.jsx)(n.li,{children:"Cannot be rolled back in some cases (be careful!)"}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"syntax-2",children:"Syntax"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sql",children:"TRUNCATE TABLE table_name;\n"})}),"\n",(0,a.jsx)(n.h3,{id:"truncate-vs-delete",children:"TRUNCATE vs. DELETE"}),"\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"TRUNCATE"}),(0,a.jsx)(n.th,{children:"DELETE"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Faster (no row-by-row scan)"}),(0,a.jsx)(n.td,{children:"Slower (scans each row)"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Removes all rows only"}),(0,a.jsx)(n.td,{children:"Can remove specific rows"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Resets auto-increment"}),(0,a.jsx)(n.td,{children:"Doesn't reset auto-increment"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Cannot use WHERE"}),(0,a.jsx)(n.td,{children:"Can use WHERE clause"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"May not be rollback-able"}),(0,a.jsx)(n.td,{children:"Always rollback-able"})]})]})]}),"\n",(0,a.jsx)(n.h3,{id:"example",children:"Example"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sql",children:"-- Remove all data from a table\nTRUNCATE TABLE test_data;\n\n-- Truncate multiple tables\nTRUNCATE TABLE table1, table2;\n"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"When to use"}),": When you want to quickly clear all data but keep the table structure for reuse."]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"create-table-as",children:"CREATE TABLE AS"}),"\n",(0,a.jsx)(n.h3,{id:"what-is-it-4",children:"What is it?"}),"\n",(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)(n.code,{children:"CREATE TABLE AS"})," statement creates a new table and populates it with the results of a query in a single operation. It's the modern, more flexible alternative to ",(0,a.jsx)(n.code,{children:"SELECT INTO"}),"."]}),"\n",(0,a.jsx)(n.h3,{id:"why-use-it-3",children:"Why use it?"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"More flexible than SELECT INTO"}),"\n",(0,a.jsx)(n.li,{children:"Can specify table structure explicitly"}),"\n",(0,a.jsx)(n.li,{children:"Better control over constraints"}),"\n",(0,a.jsx)(n.li,{children:"Modern SQL standard"}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"syntax-3",children:"Syntax"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sql",children:"CREATE TABLE new_table_name AS query;\n\n-- Or for temporary tables\nCREATE TEMP TABLE new_table_name AS query;\n"})}),"\n",(0,a.jsx)(n.h3,{id:"example-1",children:"Example"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sql",children:"CREATE TABLE action_film AS \nSELECT \n    film_id, \n    title, \n    release_year, \n    length, \n    rating \nFROM film \nINNER JOIN film_category USING (film_id) \nWHERE category_id = 1;\n"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Output"}),": Creates ",(0,a.jsx)(n.code,{children:"action_film"})," table with all Action category films."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Why this is useful"}),": Quickly create a new table with filtered or transformed data from existing tables."]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,a.jsx)(n.h3,{id:"1-always-backup-before-drop-or-truncate",children:"1. Always Backup Before DROP or TRUNCATE"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sql",children:"-- Create backup first\nCREATE TABLE accounts_backup AS SELECT * FROM accounts;\n\n-- Then drop or truncate\nDROP TABLE accounts;\n"})}),"\n",(0,a.jsx)(n.h3,{id:"2-use-if-existsif-not-exists",children:"2. Use IF EXISTS/IF NOT EXISTS"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sql",children:"-- Won't error if table exists\nCREATE TABLE IF NOT EXISTS my_table (...);\n\n-- Won't error if table doesn't exist\nDROP TABLE IF EXISTS old_table;\n"})}),"\n",(0,a.jsx)(n.h3,{id:"3-test-alter-table-on-copies",children:"3. Test ALTER TABLE on Copies"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sql",children:"-- Create test copy\nCREATE TABLE accounts_test AS SELECT * FROM accounts;\n\n-- Test your ALTER on the copy\nALTER TABLE accounts_test ADD COLUMN test_column INT;\n\n-- If successful, apply to real table\nALTER TABLE accounts ADD COLUMN test_column INT;\n"})}),"\n",(0,a.jsx)(n.h3,{id:"4-use-transactions-for-multiple-changes",children:"4. Use Transactions for Multiple Changes"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sql",children:"BEGIN;\nALTER TABLE accounts ADD COLUMN phone VARCHAR(15);\nALTER TABLE accounts ADD COLUMN address TEXT;\n-- Review changes, then:\nCOMMIT;\n-- Or rollback if needed:\n-- ROLLBACK;\n"})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"practice-exercises",children:"Practice Exercises"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"Create a table for storing book information (id, title, author, year, price)"}),"\n",(0,a.jsxs)(n.li,{children:["Add a ",(0,a.jsx)(n.code,{children:"genre"})," column to the books table"]}),"\n",(0,a.jsx)(n.li,{children:"Create a table from a query selecting films from 2006"}),"\n"]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"solutions",children:"Solutions"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sql",children:"-- 1. Create table\nCREATE TABLE books (\n    id SERIAL PRIMARY KEY,\n    title VARCHAR(255) NOT NULL,\n    author VARCHAR(100),\n    year INT,\n    price NUMERIC(10, 2)\n);\n\n-- 2. Add column\nALTER TABLE books ADD COLUMN genre VARCHAR(50);\n\n-- 3. Create from query\nCREATE TABLE films_2006 AS \nSELECT film_id, title, release_year \nFROM film \nWHERE release_year = 2006;\n"})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"CREATE TABLE"}),": Define new tables with columns, data types, and constraints"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"ALTER TABLE"}),": Modify existing table structure (add/drop columns, change types, rename, etc.)"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"DROP TABLE"}),": Permanently remove tables and all data (irreversible!)"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"TRUNCATE TABLE"}),": Quickly delete all rows but keep table structure (faster than DELETE)"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"CREATE TABLE AS"}),": Modern way to create table from query (recommended)"]}),"\n",(0,a.jsxs)(n.li,{children:["Always use ",(0,a.jsx)(n.strong,{children:"IF EXISTS/IF NOT EXISTS"})," to avoid errors"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Backup"})," data before DROP or TRUNCATE"]}),"\n",(0,a.jsxs)(n.li,{children:["Use ",(0,a.jsx)(n.strong,{children:"transactions"})," for multiple ALTER operations"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Test changes"})," on copies before applying to production tables"]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Next Module"}),": ",(0,a.jsx)(n.a,{href:"/backend-tools-handbook/Constraints",children:"Constraints.md"})," - Learn to enforce data integrity with constraints"]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Great job! You can now create and manage tables effectively!"})," \ud83c\udf89"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(o,{...e})}):o(e)}},8453(e,n,l){l.d(n,{R:()=>i,x:()=>r});var s=l(6540);const a={},t=s.createContext(a);function i(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);
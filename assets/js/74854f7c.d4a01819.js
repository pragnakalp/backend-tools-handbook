"use strict";(self.webpackChunkdocusaurus_project=self.webpackChunkdocusaurus_project||[]).push([[499],{1838(e,n,s){s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"Set-Operations","title":"Set Operations","description":"Learning Objectives","source":"@site/docs/Set-Operations.md","sourceDirName":".","slug":"/Set-Operations","permalink":"/backend-tools-handbook/Set-Operations","draft":false,"unlisted":false,"editUrl":"https://github.com/pragnakalp/backend-tools-handbook/tree/main/docs/Set-Operations.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"05 Grouping Data","permalink":"/backend-tools-handbook/Grouping-Data"},"next":{"title":"07 Modifying Data","permalink":"/backend-tools-handbook/Modifying-Data"}}');var i=s(4848),l=s(8453);const r={},a="Set Operations",o={},c=[{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"What Are Set Operations?",id:"what-are-set-operations",level:2},{value:"Requirements",id:"requirements",level:3},{value:"UNION",id:"union",level:2},{value:"What is it?",id:"what-is-it",level:3},{value:"Why use it?",id:"why-use-it",level:3},{value:"Syntax",id:"syntax",level:3},{value:"Example: Combine Customer and Staff Names",id:"example-combine-customer-and-staff-names",level:3},{value:"UNION ALL",id:"union-all",level:2},{value:"What is it?",id:"what-is-it-1",level:3},{value:"Why use it?",id:"why-use-it-1",level:3},{value:"Syntax",id:"syntax-1",level:3},{value:"Example: Combine with Duplicates",id:"example-combine-with-duplicates",level:3},{value:"UNION vs. UNION ALL",id:"union-vs-union-all",level:3},{value:"INTERSECT",id:"intersect",level:2},{value:"What is it?",id:"what-is-it-2",level:3},{value:"Why use it?",id:"why-use-it-2",level:3},{value:"Syntax",id:"syntax-2",level:3},{value:"Example: Find Common Names",id:"example-find-common-names",level:3},{value:"EXCEPT",id:"except",level:2},{value:"What is it?",id:"what-is-it-3",level:3},{value:"Why use it?",id:"why-use-it-3",level:3},{value:"Syntax",id:"syntax-3",level:3},{value:"Example: Names in Customers but Not in Staff",id:"example-names-in-customers-but-not-in-staff",level:3},{value:"Multiple Set Operations",id:"multiple-set-operations",level:2},{value:"Example: Complex Set Operation",id:"example-complex-set-operation",level:3},{value:"Using Parentheses",id:"using-parentheses",level:3},{value:"Important Notes",id:"important-notes",level:2},{value:"Column Matching",id:"column-matching",level:3},{value:"ORDER BY",id:"order-by",level:3},{value:"Practice Exercises",id:"practice-exercises",level:2},{value:"Solutions",id:"solutions",level:2},{value:"Summary",id:"summary",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"set-operations",children:"Set Operations"})}),"\n",(0,i.jsx)(n.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,i.jsx)(n.p,{children:"By the end of this module, you will be able to:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Combine result sets using UNION"}),"\n",(0,i.jsx)(n.li,{children:"Keep duplicates with UNION ALL"}),"\n",(0,i.jsx)(n.li,{children:"Find common rows with INTERSECT"}),"\n",(0,i.jsx)(n.li,{children:"Find differences with EXCEPT"}),"\n",(0,i.jsx)(n.li,{children:"Understand requirements for set operations"}),"\n",(0,i.jsx)(n.li,{children:"Use set operations in practical scenarios"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"what-are-set-operations",children:"What Are Set Operations?"}),"\n",(0,i.jsx)(n.p,{children:"Set operations combine the results of two or more SELECT statements into a single result set. They work like mathematical set operations (union, intersection, difference)."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Think of it like this"}),": If you have two lists, set operations let you combine them, find what's common, or find what's different."]}),"\n",(0,i.jsx)(n.h3,{id:"requirements",children:"Requirements"}),"\n",(0,i.jsx)(n.p,{children:"For set operations to work, both queries must have:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Same number of columns"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Same column order"})}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Compatible data types"})," (columns in the same position must have compatible types)"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"union",children:"UNION"}),"\n",(0,i.jsx)(n.h3,{id:"what-is-it",children:"What is it?"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"UNION"})," combines the results of two or more SELECT statements into a single list. It ",(0,i.jsx)(n.strong,{children:"automatically removes duplicate rows"}),", ensuring the final output contains only unique records."]}),"\n",(0,i.jsx)(n.h3,{id:"why-use-it",children:"Why use it?"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Combine similar data from different tables"}),"\n",(0,i.jsx)(n.li,{children:"Merge results from multiple queries"}),"\n",(0,i.jsx)(n.li,{children:"Get a unified list without duplicates"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"syntax",children:"Syntax"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"SELECT column_name(s) FROM table_1 \nUNION \nSELECT column_name(s) FROM table_2;\n"})}),"\n",(0,i.jsx)(n.h3,{id:"example-combine-customer-and-staff-names",children:"Example: Combine Customer and Staff Names"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"SELECT first_name, last_name FROM customer\nUNION\nSELECT first_name, last_name FROM staff\nORDER BY last_name;\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Output"}),": A combined list of all unique first and last names from both customers and staff (no duplicates)."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"How it works"}),":"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Executes both SELECT statements"}),"\n",(0,i.jsx)(n.li,{children:"Combines the results"}),"\n",(0,i.jsx)(n.li,{children:"Removes duplicate rows"}),"\n",(0,i.jsx)(n.li,{children:"Returns the final unique set"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"union-all",children:"UNION ALL"}),"\n",(0,i.jsx)(n.h3,{id:"what-is-it-1",children:"What is it?"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"UNION ALL"})," works like ",(0,i.jsx)(n.code,{children:"UNION"})," but ",(0,i.jsx)(n.strong,{children:"keeps all rows, including duplicates"}),". It's also faster because it skips the duplicate-checking step."]}),"\n",(0,i.jsx)(n.h3,{id:"why-use-it-1",children:"Why use it?"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"When you want to keep duplicates"}),"\n",(0,i.jsx)(n.li,{children:"Better performance (no duplicate checking)"}),"\n",(0,i.jsx)(n.li,{children:"Combine results where duplicates are meaningful"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"syntax-1",children:"Syntax"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"SELECT column_name(s) FROM table_1 \nUNION ALL \nSELECT column_name(s) FROM table_2;\n"})}),"\n",(0,i.jsx)(n.h3,{id:"example-combine-with-duplicates",children:"Example: Combine with Duplicates"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"SELECT first_name, last_name FROM customer\nUNION ALL\nSELECT first_name, last_name FROM staff\nORDER BY last_name;\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Output"}),": All names from both tables, including duplicates (if a name appears in both tables, it appears twice)."]}),"\n",(0,i.jsx)(n.h3,{id:"union-vs-union-all",children:"UNION vs. UNION ALL"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"UNION"}),(0,i.jsx)(n.th,{children:"UNION ALL"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Removes duplicates"}),(0,i.jsx)(n.td,{children:"Keeps duplicates"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Slower (checks for duplicates)"}),(0,i.jsx)(n.td,{children:"Faster (no duplicate check)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Use when duplicates don't matter"}),(0,i.jsx)(n.td,{children:"Use when duplicates are meaningful"})]})]})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"intersect",children:"INTERSECT"}),"\n",(0,i.jsx)(n.h3,{id:"what-is-it-2",children:"What is it?"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"INTERSECT"})," combines the results of two SELECT statements and returns ",(0,i.jsx)(n.strong,{children:"only the rows that appear in both result sets"}),". Like UNION, it automatically removes duplicates."]}),"\n",(0,i.jsx)(n.h3,{id:"why-use-it-2",children:"Why use it?"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Find common records between two tables"}),"\n",(0,i.jsx)(n.li,{children:"Identify overlapping data"}),"\n",(0,i.jsx)(n.li,{children:"Find shared values"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"syntax-2",children:"Syntax"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"SELECT column_name(s) FROM table_1 \nINTERSECT \nSELECT column_name(s) FROM table_2;\n"})}),"\n",(0,i.jsx)(n.h3,{id:"example-find-common-names",children:"Example: Find Common Names"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"SELECT first_name, last_name FROM customer\nINTERSECT\nSELECT first_name, last_name FROM staff\nORDER BY last_name;\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Output"}),": Only names that appear in BOTH customer and staff tables."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"How it works"}),":"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Executes both SELECT statements"}),"\n",(0,i.jsx)(n.li,{children:"Finds rows that exist in both results"}),"\n",(0,i.jsx)(n.li,{children:"Removes duplicates"}),"\n",(0,i.jsx)(n.li,{children:"Returns the intersection"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"except",children:"EXCEPT"}),"\n",(0,i.jsx)(n.h3,{id:"what-is-it-3",children:"What is it?"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"EXCEPT"})," returns ",(0,i.jsx)(n.strong,{children:"unique rows from the first (left) query that do not exist in the second (right) query"}),". It's like subtraction - it shows what's in the first set but not in the second."]}),"\n",(0,i.jsx)(n.h3,{id:"why-use-it-3",children:"Why use it?"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Find records in one table but not another"}),"\n",(0,i.jsx)(n.li,{children:"Identify differences between datasets"}),"\n",(0,i.jsx)(n.li,{children:"Find missing or unique records"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"syntax-3",children:"Syntax"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"SELECT column_name(s) FROM table_1 \nEXCEPT \nSELECT column_name(s) FROM table_2;\n"})}),"\n",(0,i.jsx)(n.h3,{id:"example-names-in-customers-but-not-in-staff",children:"Example: Names in Customers but Not in Staff"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"SELECT first_name, last_name FROM customer\nEXCEPT\nSELECT first_name, last_name FROM staff\nORDER BY last_name;\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Output"}),": Names that exist in the customer table but NOT in the staff table."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"How it works"}),":"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Executes both SELECT statements"}),"\n",(0,i.jsx)(n.li,{children:"Takes rows from the first query"}),"\n",(0,i.jsx)(n.li,{children:"Removes rows that exist in the second query"}),"\n",(0,i.jsx)(n.li,{children:"Removes duplicates"}),"\n",(0,i.jsx)(n.li,{children:"Returns the difference"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"multiple-set-operations",children:"Multiple Set Operations"}),"\n",(0,i.jsx)(n.p,{children:"You can combine multiple set operations in a single query:"}),"\n",(0,i.jsx)(n.h3,{id:"example-complex-set-operation",children:"Example: Complex Set Operation"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"SELECT first_name, last_name FROM customer\nUNION\nSELECT first_name, last_name FROM staff\nUNION\nSELECT first_name, last_name FROM actor\nORDER BY last_name;\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Output"}),": All unique names from customers, staff, and actors combined."]}),"\n",(0,i.jsx)(n.h3,{id:"using-parentheses",children:"Using Parentheses"}),"\n",(0,i.jsx)(n.p,{children:"Use parentheses to control the order of operations:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"(SELECT first_name, last_name FROM customer\nUNION\nSELECT first_name, last_name FROM staff)\nEXCEPT\nSELECT first_name, last_name FROM actor;\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Output"}),": Names from customers and staff combined, minus any names that also appear in actors."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"important-notes",children:"Important Notes"}),"\n",(0,i.jsx)(n.h3,{id:"column-matching",children:"Column Matching"}),"\n",(0,i.jsx)(n.p,{children:"The columns must match in position and be compatible:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"-- \u2705 Correct: Same number and order\nSELECT first_name, last_name FROM customer\nUNION\nSELECT first_name, last_name FROM staff;\n\n-- \u274c Wrong: Different number of columns\nSELECT first_name, last_name FROM customer\nUNION\nSELECT first_name FROM staff;  -- Error!\n\n-- \u274c Wrong: Different order\nSELECT first_name, last_name FROM customer\nUNION\nSELECT last_name, first_name FROM staff;  -- Wrong order!\n"})}),"\n",(0,i.jsx)(n.h3,{id:"order-by",children:"ORDER BY"}),"\n",(0,i.jsx)(n.p,{children:"You can only use ORDER BY at the end of the entire set operation:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"SELECT first_name FROM customer\nUNION\nSELECT first_name FROM staff\nORDER BY first_name;  -- \u2705 Correct: At the end\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"practice-exercises",children:"Practice Exercises"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Combine all unique first names from ",(0,i.jsx)(n.code,{children:"customer"})," and ",(0,i.jsx)(n.code,{children:"actor"})," tables"]}),"\n",(0,i.jsxs)(n.li,{children:["Find first names that appear in both ",(0,i.jsx)(n.code,{children:"customer"})," and ",(0,i.jsx)(n.code,{children:"actor"})," tables"]}),"\n",(0,i.jsxs)(n.li,{children:["Find first names in ",(0,i.jsx)(n.code,{children:"customer"})," but NOT in ",(0,i.jsx)(n.code,{children:"actor"})]}),"\n",(0,i.jsx)(n.li,{children:"Combine names from all three tables (customer, staff, actor) keeping duplicates"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"solutions",children:"Solutions"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"-- 1. UNION\nSELECT first_name FROM customer\nUNION\nSELECT first_name FROM actor\nORDER BY first_name;\n\n-- 2. INTERSECT\nSELECT first_name FROM customer\nINTERSECT\nSELECT first_name FROM actor\nORDER BY first_name;\n\n-- 3. EXCEPT\nSELECT first_name FROM customer\nEXCEPT\nSELECT first_name FROM actor\nORDER BY first_name;\n\n-- 4. UNION ALL (keeps duplicates)\nSELECT first_name, last_name FROM customer\nUNION ALL\nSELECT first_name, last_name FROM staff\nUNION ALL\nSELECT first_name, last_name FROM actor\nORDER BY last_name;\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"UNION"})," combines results and removes duplicates - most common set operation"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"UNION ALL"})," combines results and keeps duplicates (faster than UNION)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"INTERSECT"})," returns only rows that appear in both queries - find common data"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"EXCEPT"})," returns rows from first query that don't exist in second - find differences"]}),"\n",(0,i.jsx)(n.li,{children:"All queries must have the same number of columns, same order, and compatible types"}),"\n",(0,i.jsxs)(n.li,{children:["Use ",(0,i.jsx)(n.strong,{children:"ORDER BY"})," only at the end of the entire set operation"]}),"\n",(0,i.jsx)(n.li,{children:"Set operations are useful for combining, comparing, and finding differences between datasets"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Next Module"}),": ",(0,i.jsx)(n.a,{href:"/backend-tools-handbook/Modifying-Data",children:"Modifying-Data.md"})," - Learn to insert, update, and delete data"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Excellent! You can now combine and compare result sets!"})," \ud83c\udf89"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453(e,n,s){s.d(n,{R:()=>r,x:()=>a});var t=s(6540);const i={},l=t.createContext(i);function r(e){const n=t.useContext(l);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),t.createElement(l.Provider,{value:n},e.children)}}}]);